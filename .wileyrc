#!/bin/bash


# add this to the bashrc
#if [ -f ~/.wileyrc ]; then
#  . ~/.wileyrc
#fi
  
# If not running interactively, don't do anything
[ -z "$PS1" ] && return

export PS1="\[\e[1;32m\][\u@\h \W\[\e[1;33m\]\$(git branch 2> /dev/null | grep -e '\* ' | sed 's/^..\(.*\)/{\1}/')\[\e[1;32m\]]\$\[\e[0m\] "

stty -ctlecho

#export PS1="[\[\e[32m\]\u@\h \[\e[33m\] \W\$(git branch 2> /dev/null | grep -e '\* ' | sed 's/^..\(.*\)/{\1}/')]\$ "
# enable color support of ls and also add handy aliases
if [ -x /usr/bin/dircolors ]; then
  eval "`dircolors -b`"
  alias ls='ls --color=auto'
  alias grep='grep --color=auto'
  alias fgrep='fgrep --color=auto'
  alias egrep='egrep --color=auto'
fi

# set PATH so it includes user's private bin if it exists
#if [ -d "$HOME/bin" ] ; then
#    PATH="$HOME/bin:$PATH"
#fi

_memuseImpl() {
  /bin/ps -u $(whoami) -o pid,rss,command | awk '{sum+=$2} END {print "Total " sum / 1024 " MB"}';
}

# no one touches but me
umask 077

# I might have installed scala, a very weird language
if [ -d /opt/bin ]; then
  PATH="$PATH:/opt/bin"
fi

export EDITOR=vim

alias sl=ls
alias ll='ls -l'
alias la='ls -A'
alias l='ls -CF'
alias vi=vim
alias vim='vim -O'
alias vimrc="vim ~/.vimrc"
alias bashrc="vim ~/.bashrc"

alias gg='git grep'
alias gb='git branch'
alias gc='git checkout'
alias gs='git status'

alias mem=_memuseImpl
